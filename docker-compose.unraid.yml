# Docker Compose Override for Unraid
# This file provides Unraid-specific volume mappings
#
# Usage:
#   1. Edit the paths below to match your Unraid setup
#   2. Deploy with: docker-compose -f docker-compose.yml -f docker-compose.unraid.yml up -d

version: '3.8'

services:
  postgres:
    volumes:
      # Map to Unraid appdata directory
      - /mnt/user/appdata/youtube-archiver/postgres:/var/lib/postgresql/data
    ports:
      - "5433:5432"  # Changed to avoid port conflicts

  backend:
    volumes:
      # Map to a larger storage location for videos (e.g., your media share)
      - /mnt/user/media/YouTube Archive:/data/videos
    ports:
      - "3050:3001"  # Changed to port 3050 to avoid conflicts

  frontend:
    build:
      args:
        REACT_APP_API_URL: http://localhost:3050  # Updated to match new backend port
    ports:
      - "8080:80"  # Web interface on port 8080
